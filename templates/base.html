<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}Online Library{% endblock %}</title>

  {% load static %}

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">

  <link rel="stylesheet" href="{% static 'books/css/book_card.css' %}">
  <link rel="stylesheet" href="{% static 'books/css/authors.css' %}">
  <link rel="stylesheet" href="{% static 'books/css/catalog.css' %}">
  <link rel="stylesheet" href="{% static 'users/css/profile_analytics.css' %}">
  <link rel="stylesheet" href="{% static 'css/global.css' %}">


</head>
<body>

<nav class="navbar navbar-expand navbar-light bg-light">

  <!-- –õ–û–ì–û -->
  <a class="navbar-brand d-flex align-items-center {% if request.resolver_match.url_name == 'home' %}active{% endif %}"
   href="{% url 'pages:home' %}">
  <i class="bi bi-book"></i>
  <style>
.navbar-brand i {
  font-size: 1.5rem;
  margin-right: -2.5rem;
}
</style>
  </a>

  <!-- –û–°–ù–û–í–ù–ê–Ø –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
  <ul class="navbar-nav mr-auto ml-3">

    <li class="nav-item">
      <a class="nav-link {% if request.resolver_match.url_name == 'catalog' %}active{% endif %}"
         href="{% url 'books:catalog' %}">
        –ö–∞—Ç–∞–ª–æ–≥
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link {% if request.resolver_match.url_name in 'genre_list genre_detail' %}active{% endif %}"
         href="{% url 'books:genre_list' %}">
        –ñ–∞–Ω—Ä—ã
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link {% if request.resolver_match.url_name in 'author_list author_detail' %}active{% endif %}"
         href="{% url 'books:author_list' %}">
        –ê–≤—Ç–æ—Ä—ã
      </a>
    </li>

    <!-- üî• –û–ë–ó–û–† (–ê–ù–ê–õ–ò–¢–ò–ö–ê –°–ê–ô–¢–ê) -->
    <li class="nav-item">
      <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
         href="{% url 'analytics:dashboard' %}">
        –û–±–∑–æ—Ä
      </a>
    </li>

    <li class="nav-item">
      <a class="nav-link {% if request.resolver_match.url_name == 'about' %}active{% endif %}"
         href="{% url 'pages:about' %}">
        –û –ø—Ä–æ–µ–∫—Ç–µ
      </a>
    </li>

  </ul>

<!-- –ò–ö–û–ù–ö–ê –ü–û–ò–°–ö–ê -->
<ul class="navbar-nav ml-2">
  <li class="nav-item">
    <a class="nav-link" href="{% url 'search:search' %}" title="–ü–æ–∏—Å–∫">
      <i class="bi bi-search"></i>
    </a>
  </li>
</ul>

  <!-- –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ -->
  <ul class="navbar-nav ml-3">
    {% if user.is_authenticated %}
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'profile' %}active{% endif %}"
           href="{% url 'users:profile' %}">
          –ü—Ä–æ—Ñ–∏–ª—å
        </a>
      </li>
      <li class="nav-item">
        <form method="post" action="{% url 'users:logout' %}">
          {% csrf_token %}
          <input type="hidden" name="next" value="{{ request.get_full_path }}">
          <button class="btn btn-link nav-link" type="submit">–í—ã–π—Ç–∏</button>
        </form>
      </li>
    {% else %}
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'login' %}active{% endif %}"
           href="{% url 'users:login' %}">
          –í–æ–π—Ç–∏
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link {% if request.resolver_match.url_name == 'register' %}active{% endif %}"
           href="{% url 'users:register' %}">
          –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
        </a>
      </li>
    {% endif %}
  </ul>

</nav>

<div class="container-fluid mt-4">
  {% block content %}{% endblock %}
</div>

<footer class="text-center py-3">
  ¬© {{ now.year }} Online Library
</footer>

<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
