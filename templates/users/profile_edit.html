{% extends "base.html" %}
{% load static %}

{% block title %}Редактировать профиль{% endblock %}

{% block content %}

<div class="profile-edit-page">

  <!-- ====== ФОРМА РЕДАКТИРОВАНИЯ ПРОФИЛЯ ====== -->
  <form method="post" class="profile-form">
    {% csrf_token %}
    {{ form.non_field_errors }}

    <div class="profile-edit-card">
      <h2>Редактировать профиль</h2>

      <div class="form-field">
        {{ form.username.label_tag }}
        {{ form.username }}
        {{ form.username.errors }}
      </div>

      <div class="form-field">
        {{ form.first_name.label_tag }}
        {{ form.first_name }}
        {{ form.first_name.errors }}
      </div>

      <div class="form-field">
        {{ form.email.label_tag }}
        {{ form.email }}
        {{ form.email.errors }}
      </div>
    </div>

    <div class="form-buttons">
      <button type="submit" name="update_profile" class="btn-new btn-new-dark">
        Сохранить
      </button>
      <a href="{% url 'users:profile' %}" class="btn-new btn-new-dark">
        Отмена
      </a>
    </div>

  </form>


  <!-- ====== ФОРМА СМЕНЫ ПАРОЛЯ ====== -->
  <form method="post" class="profile-form" style="margin-top:40px;">
    {% csrf_token %}
    {{ password_form.non_field_errors }}

    <div class="profile-edit-card">
      <h2>Смена пароля</h2>

      <div class="form-field">
        {{ password_form.old_password.label_tag }}
        {{ password_form.old_password }}
        {{ password_form.old_password.errors }}
      </div>

      <div class="form-field">
        {{ password_form.new_password1.label_tag }}
        {{ password_form.new_password1 }}
        {{ password_form.new_password1.errors }}
      </div>

      <div class="form-field">
        {{ password_form.new_password2.label_tag }}
        {{ password_form.new_password2 }}
        {{ password_form.new_password2.errors }}
      </div>
    </div>

    <div class="form-buttons">
      <button type="submit" name="change_password" class="btn-new btn-new-dark">
        Изменить пароль
      </button>
    </div>

  </form>

</div>

{% endblock %}