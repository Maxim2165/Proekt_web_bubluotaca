{% extends "base.html" %}
{% load static %}

{% block title %}Авторы{% endblock %}

{% block content %}

  <div class="authors-container">

    <!-- Один текст-блок вместо отдельного заголовка -->
    <p class="page-subtitle">
      Авторы - это творцы словесных миров, люди, способные превращать мысли, чувства и переживания в образы и истории. Через их произведения оживают эпохи, раскрываются человеческие характеры и находят выражение вечные темы — любовь, выбор, борьба, надежда.
    </p>

    {% if authors %}
      <div class="authors-grid">
        {% for author in authors %}
          <a href="{% url 'books:author_detail' author.slug %}" class="author-card-list">
            <div class="author-photo-wrapper">
              {% if author.photo %}
                <img src="{{ author.photo.url }}" alt="{{ author.name }}">
              {% else %}
                <div style="width:100%;height:100%;background:#eee;display:flex;align-items:center;justify-content:center;color:#aaa;font-size:14px;">
                  Нет фото
                </div>
              {% endif %}
            </div>

            <div class="author-info">
              <div class="author-name">{{ author.name }}</div>
              <div class="author-life-dates">
                Годы жизни:
                {% if author.birth_date %}{{ author.birth_date|date:"d.m.Y" }}{% else %}?{% endif %}
                —
                {% if author.death_date %}{{ author.death_date|date:"d.m.Y" }}{% else %}…{% endif %}
              </div>
              <div class="author-books-count">
                Книг: {{ author.books.count }}
              </div>
            </div>
          </a>
        {% endfor %}
      </div>
    {% else %}
      <p style="text-align:center; font-size:20px; color:#777; margin:60px 0;">
        Авторы пока не добавлены.
      </p>
    {% endif %}

  </div>

{% endblock %}