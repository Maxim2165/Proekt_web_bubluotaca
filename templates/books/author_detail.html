{% extends "base.html" %}
{% load static %}

{% block title %}{{ author.name }}{% endblock %}

{% block content %}

  <div class="authors-container">

    <div class="author-page">

      <!-- Выделенный контейнер -->
      <div class="author-info-container">
        <div class="author-detail-photo">
          {% if author.photo %}
            <img src="{{ author.photo.url }}" alt="{{ author.name }}">
          {% else %}
            <div style="width:100%;height:100%;background:#eee;display:flex;align-items:center;justify-content:center;color:#aaa;font-size:18px;">
              Нет фото
            </div>
          {% endif %}
        </div>

        <div class="author-details">
          <h1 class="author-title">{{ author.name }}</h1>

          <div class="author-life-dates">
            Годы жизни:
            {% if author.birth_date %}{{ author.birth_date|date:"d.m.Y" }}{% else %}?{% endif %}
            —
            {% if author.death_date %}{{ author.death_date|date:"d.m.Y" }}{% else %}…{% endif %}
          </div>

          {% if author.bio %}
            <p class="author-bio">{{ author.bio|linebreaks }}</p>
          {% else %}
            <p class="author-bio" style="color:#777; font-style:italic;">
              Биография автора пока отсутствует.
            </p>
          {% endif %}
        </div>
      </div>

      <!-- Книги автора -->
      <h2 class="books-section-title">Книги автора: </h2>

      {% if books %}
        <div class="author-books-grid">
          {% for book in books %}
            {% include 'books/includes/book_card.html' with book=book show_author=False show_stats=True show_views=False %}
          {% endfor %}
        </div>
      {% else %}
        <p class="no-books">У этого автора пока нет книг в библиотеке.</p>
      {% endif %}

    </div>

  </div>

{% endblock %}